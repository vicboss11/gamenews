---
import IconMoon from './ui/icons/IconMoon.astro';
import IconSun from './ui/icons/IconSun.astro';
---

<input class="light-dark-checkbox" type="checkbox" checked />

<button class="light-dark-button" type="button">
  <IconSun />
  <IconMoon />
</button>

<script src="../scripts/theme-toggle.ts"></script>

<style lang="scss" is:global>
  .light-dark-checkbox {
    position: absolute;
    z-index: -10;

    display: none;
  }

  .light-dark-button {
    display: grid;
    place-content: center;

    border: none;
    background-color: transparent;
    border-radius: 50%;

    --size: 1.5rem;
    width: var(--size);
    height: var(--size);
    font-size: var(--size);

    transition: opacity 150ms;

    cursor: pointer;

    &:hover {
      opacity: 0.5;
    }

    .icon-tabler-sun {
      display: block;
    }

    .icon-tabler-moon {
      display: none;

      width: 1.25rem;
    }
  }

  @media (prefers-color-scheme: dark) {
    .light-dark-button {
      .icon-tabler-sun {
        display: none;
      }

      .icon-tabler-moon {
        display: block;
      }
    }
  }

  :root {
    &.light-theme .light-dark-button {
      .icon-tabler-sun {
        display: block;
      }

      .icon-tabler-moon {
        display: none;
      }
    }

    &.dark-theme .light-dark-button {
      .icon-tabler-sun {
        display: none;
      }

      .icon-tabler-moon {
        display: block;
      }
    }
  }
</style>
