---
import type { Segment, SegmentsPostData } from '../models/interfaces/segments';
import type { WpPost } from '../models/interfaces/wordpress';
import Segments from './Segments.astro';

interface Props {
  post?: WpPost;
  html: string;
  segments: Segment[];
}

const { post, html, segments }: Props = Astro.props;

if (!post) {
  throw new Error('Post data is required');
}

const data: SegmentsPostData = {
  post,
  html,
  segments,
};
---

<article class="post-content">
  <Segments data={data} />
</article>
