---
import type { Segment, SegmentsPostData } from '../models/interfaces/segments';
import type { WpPost } from '../models/interfaces/wordpress';
import Segments from './Segments.astro';

interface Props {
  post?: WpPost;
  html: string;
  segments: Segment[];
}

const { post, html, segments }: Props = Astro.props;

if (!post) {
  throw new Error('Post data is required');
}

const data: SegmentsPostData = {
  post,
  html,
  segments,
};
---

<article class="post-content">
  <Segments data={data} />
</article>

<style is:global>
  .post-content {
    max-width: 700px;
    width: 100%;
    margin: 0 auto;
  }

  .post-content header,
  .post-content section {
    margin: 0 1rem;
  }

  .post-content p {
    margin: 0.75rem 0;

    font-size: 1.15rem;
    text-align: left;
    text-wrap: pretty;
  }

  .post-content h1 {
    margin: 0.5rem 0;
    margin-top: 3rem;

    font-size: 2.5rem;
    line-height: 3rem;
  }

  .post-content h2 {
    margin-bottom: 1.25rem;
    padding-top: 5rem;

    font-size: 1.75rem;
    line-height: 2.25rem;
  }

  .post-content h3 {
    margin-bottom: 1rem;
    padding-top: 3rem;

    font-size: 1.35rem;
    line-height: 1.85rem;
  }

  .post-content .table-of-contents {
    margin-top: 3rem;
    margin-bottom: 0.5rem;
  }
</style>
